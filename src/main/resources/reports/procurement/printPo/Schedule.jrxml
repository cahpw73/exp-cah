<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Schedule" pageWidth="518" pageHeight="802" columnWidth="518" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="a15ea7ff-e275-4573-af52-0c6198ec7dbf">
	<property name="ireport.zoom" value="3.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="26"/>
	<style name="Arial" pdfFontName="C:\fonts\arial.ttf"/>
	<style name="Arial-Bold" pdfFontName="C:\fonts\arialbd.ttf"/>
	<style name="Arial-Bold-Italic" pdfFontName="C:\fonts\arialbi.ttf"/>
	<parameter name="PO_ID" class="java.lang.Long"/>
	<parameter name="patternDecimal" class="java.lang.String"/>
	<parameter name="FORMAT_DATE2" class="java.lang.String"/>
	<parameter name="TIME_ZONE" class="java.lang.String"/>
	<parameter name="currency" class="java.lang.String"/>
	<parameter name="exchangeRate" class="java.math.BigDecimal"/>
	<parameter name="poNo" class="java.lang.String"/>
	<parameter name="projectNumber" class="java.lang.String"/>
	<parameter name="currencyLbl1" class="java.lang.String"/>
	<parameter name="currencyLbl2" class="java.lang.String"/>
	<parameter name="currencyLbl3" class="java.lang.String"/>
	<parameter name="currencyId1" class="java.lang.Long"/>
	<parameter name="currencyId2" class="java.lang.Long"/>
	<parameter name="currencyId3" class="java.lang.Long"/>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["D:\\swissbytes\\expediting\\src\\main\\resources\\reports\\procurement\\printPo\\"]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[select project_currency_id,milestone,claim_date,item,percentage,
case when project_currency_id=$P{currencyId1} then  project_amt else 0 end as currency1 ,

case when project_currency_id=$P{currencyId2} then  project_amt else 0 end as currency2 ,
case when project_currency_id=$P{currencyId3} then  project_amt else 0 end as currency3
from cashflow_detail cdo
where cashflow_id=38
order by item;]]>
	</queryString>
	<field name="project_currency_id" class="java.lang.Long"/>
	<field name="milestone" class="java.lang.String"/>
	<field name="claim_date" class="java.sql.Timestamp"/>
	<field name="item" class="java.lang.String"/>
	<field name="percentage" class="java.math.BigDecimal"/>
	<field name="currency1" class="java.math.BigDecimal"/>
	<field name="currency2" class="java.math.BigDecimal"/>
	<field name="currency3" class="java.math.BigDecimal"/>
	<variable name="totalCurrency1" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{currency1}]]></variableExpression>
	</variable>
	<variable name="totalCurrency2" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{currency2}]]></variableExpression>
	</variable>
	<variable name="totalCurrency3" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{currency3}]]></variableExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="25" splitType="Stretch"/>
	</title>
	<pageHeader>
		<band height="100" splitType="Stretch">
			<staticText>
				<reportElement uuid="dc2be798-737b-404a-aa49-b32395f2ea10" style="Arial-Bold" x="211" y="25" width="84" height="20" isRemoveLineWhenBlank="true">
					<printWhenExpression><![CDATA[new Boolean($V{PAGE_NUMBER}.intValue() == 1)]]></printWhenExpression>
				</reportElement>
				<textElement markup="styled">
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[SCHEDULE E]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="af22a06e-95b6-4b08-9c8e-7767b31bde75" style="Arial-Bold" x="184" y="45" width="133" height="20" isRemoveLineWhenBlank="true">
					<printWhenExpression><![CDATA[new Boolean($V{PAGE_NUMBER}.intValue() == 1)]]></printWhenExpression>
				</reportElement>
				<textElement markup="styled">
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[PAYMENT SCHEDULE]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="1276d79c-2742-4994-9bf1-bda6cb683d56" style="Arial" x="20" y="66" width="476" height="31" isRemoveLineWhenBlank="true" isPrintWhenDetailOverflows="true">
					<printWhenExpression><![CDATA[new Boolean($V{PAGE_NUMBER}.intValue() == 1)]]></printWhenExpression>
				</reportElement>
				<textElement markup="styled">
					<font size="10"/>
				</textElement>
				<text><![CDATA[The following progress payments base on the supplier's achievement of specified milestones have been agreed and will be paid to the Supplier in accordance with the payment provisions of the Purchase Order:]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="5bdd5435-f52f-4d26-be3b-8bc17fd44ffc" style="Arial-Bold-Italic" x="438" y="5" width="69" height="17"/>
				<textElement markup="styled"/>
				<text><![CDATA[SCHEDULE E]]></text>
			</staticText>
			<textField>
				<reportElement uuid="ac28305c-d887-4445-b21f-e07395a39c61" style="Arial-Bold-Italic" x="20" y="5" width="257" height="20"/>
				<textElement markup="styled">
					<font fontName="Arial" isBold="false" isItalic="true"/>
				</textElement>
				<textFieldExpression><![CDATA["PURCHASE ORDER No."+($P{projectNumber}+"-"+$P{poNo})]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="37" splitType="Stretch">
			<staticText>
				<reportElement uuid="8bc4d2a3-9d71-478b-a956-d7e2c672096f" style="Arial-Bold" x="0" y="3" width="38" height="20"/>
				<textElement markup="styled">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Milestone]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="8b627b2c-4d62-458d-b5c9-193aa4286346" style="Arial-Bold" x="39" y="3" width="45" height="28"/>
				<textElement markup="styled">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Milestone Description]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="3af60dda-9c33-4050-b058-25150c2b5eb7" style="Arial-Bold" x="470" y="3" width="48" height="33"/>
				<textElement markup="styled">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Claim Month]]></text>
			</staticText>
			<line>
				<reportElement uuid="f133f939-0b87-4d98-9ebb-3fc87be09242" x="0" y="0" width="518" height="1"/>
			</line>
			<line>
				<reportElement uuid="583bf7cc-1356-46ab-b571-7dc857b0f43c" x="0" y="36" width="518" height="1"/>
			</line>
			<staticText>
				<reportElement uuid="c5778ae3-9220-45a7-84bd-7855b02c4646" style="Arial-Bold" x="85" y="3" width="23" height="20"/>
				<textElement markup="styled">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[%]]></text>
			</staticText>
			<textField>
				<reportElement uuid="851f05f9-6637-4766-aa52-29fd3eed9911" style="Arial-Bold" x="352" y="3" width="57" height="33"/>
				<textElement markup="styled">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Amount of Claim "+($P{currencyLbl3}!=null?$P{currencyLbl3}:"")]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="84ea4b1b-18a2-4724-9a20-64d8f7967f73" style="Arial-Bold" x="289" y="3" width="61" height="33"/>
				<textElement markup="styled">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Cumulative Expenditure "+($P{currencyLbl2}!=null?$P{currencyLbl2}:"")]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="c92ee45f-c592-4b2e-90ef-5ca309253460" style="Arial-Bold" x="410" y="3" width="57" height="34"/>
				<textElement markup="styled">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Cumulative Expenditure "+($P{currencyLbl3}!=null?$P{currencyLbl3}:"")]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="4929b386-a1d8-4f16-98d0-0ba64f4978e0" style="Arial-Bold" x="231" y="3" width="57" height="34"/>
				<textElement markup="styled">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Amount of Claim "+($P{currencyLbl2}!=null?$P{currencyLbl2}:"")]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="df9aadbc-dce5-403a-8f57-ddd8914b0249" style="Arial-Bold" x="110" y="3" width="57" height="33"/>
				<textElement markup="styled">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Amount of Claim "+ ($P{currencyLbl1}!=null?$P{currencyLbl1}:"")]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="244eaa98-8e82-440e-a783-100e39e0d6a3" style="Arial-Bold" x="168" y="3" width="61" height="33"/>
				<textElement markup="styled">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Cumulative Expenditure "+($P{currencyLbl1}!=null?$P{currencyLbl1}:"")]]></textFieldExpression>
			</textField>
		</band>
	</columnHeader>
	<detail>
		<band height="24" splitType="Stretch">
			<textField>
				<reportElement uuid="d690c0ad-7128-49db-947b-c3ab6397a27c" x="110" y="4" width="57" height="20"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[ch.swissbytes.fqmes.util.Util.formatMoney($P{currencyLbl1},$P{patternDecimal},$F{currency1})]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="17745274-ed33-4185-ae89-c9eb23377f05" x="231" y="4" width="57" height="20"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[ch.swissbytes.fqmes.util.Util.formatMoney($P{currencyLbl2},$P{patternDecimal},$F{currency2})
]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="6628ee3d-f698-4add-a8f2-52b9c90ff372" x="351" y="4" width="58" height="20"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[ch.swissbytes.fqmes.util.Util.formatMoney($P{currencyLbl3},$P{patternDecimal},$F{currency3})]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="27013b90-d85b-4bcd-b9ac-b0659d2453f1" x="175" y="4" width="54" height="20">
					<printWhenExpression><![CDATA[$V{totalCurrency1}!=null&&$V{totalCurrency1}.doubleValue()>0]]></printWhenExpression>
				</reportElement>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[ch.swissbytes.fqmes.util.Util.formatMoney($P{currencyLbl1},$P{patternDecimal},$V{totalCurrency1})]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="97d69d52-ba99-45b3-885f-7b412909e058" x="289" y="4" width="60" height="20">
					<printWhenExpression><![CDATA[$V{totalCurrency2}!=null&&$V{totalCurrency2}.doubleValue()>0]]></printWhenExpression>
				</reportElement>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[ch.swissbytes.fqmes.util.Util.formatMoney($P{currencyLbl1},$P{patternDecimal},$V{totalCurrency2})]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="2a844d6c-2780-4f2f-9e22-a7b70ff790ad" x="410" y="4" width="57" height="20">
					<printWhenExpression><![CDATA[$V{totalCurrency3}!=null&&$V{totalCurrency3}.doubleValue()>0]]></printWhenExpression>
				</reportElement>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[ch.swissbytes.fqmes.util.Util.formatMoney($P{currencyLbl1},$P{patternDecimal},$V{totalCurrency3})]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="15bc1fa8-87d0-4851-a98b-fd1b2563f311" x="0" y="4" width="35" height="20"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{item}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="9cd4a9f1-e541-4987-8e12-48e134cbcb4c" x="39" y="4" width="45" height="20"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{milestone}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="6fed0ae7-e9f8-44c4-8276-b8025fa4acfe" x="85" y="4" width="23" height="20"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{percentage}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="562d45aa-ead9-47ec-a1d8-ae51181d14a0" x="470" y="4" width="48" height="20"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{claim_date}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band height="19" splitType="Stretch"/>
	</summary>
</jasperReport>
