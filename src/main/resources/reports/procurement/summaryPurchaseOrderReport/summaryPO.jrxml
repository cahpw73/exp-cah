<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="summaryPO" pageWidth="555" pageHeight="802" columnWidth="555" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="108e5b0d-81dd-443a-888c-5328aafbcc9e">
	<property name="ireport.zoom" value="1.610510000000001"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="TIME_ZONE" class="java.lang.String"/>
	<parameter name="FORMAT_DATE" class="java.lang.String"/>
	<parameter name="patternDecimal" class="java.lang.String"/>
	<parameter name="poIdFilter" class="java.lang.Long"/>
	<parameter name="sortBy" class="java.lang.String"/>
	<parameter name="poNoFilter" class="java.lang.String"/>
	<parameter name="projectIdFilter" class="java.lang.Long"/>
	<parameter name="STATUS_PROCUREMENT" class="java.util.Map"/>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[select po.variation,p.order_title,p.po_status,c.code,po.id
from purchase_order po inner join p_order p on po.po_id=p.id
     left outer join supplier_proc sp on sp.id=p.supplier_id
     left outer join cashflow cf on cf.po_id=p.id
     left outer join project_currency pc on pc.id=p.currency_id
     left outer join currency c on c.id=pc.currency_id
     left outer join project pr on pr.id=po.project_id
where po.po=$P{poNoFilter} and pr.id=$P{projectIdFilter}
order by $P{sortBy}]]>
	</queryString>
	<field name="variation" class="java.lang.String"/>
	<field name="order_title" class="java.lang.String"/>
	<field name="po_status" class="java.lang.Integer"/>
	<field name="code" class="java.lang.String"/>
	<field name="id" class="java.lang.Long"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band splitType="Stretch"/>
	</title>
	<pageHeader>
		<band splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band splitType="Stretch"/>
	</columnHeader>
	<detail>
		<band height="14" splitType="Stretch">
			<textField isStretchWithOverflow="true">
				<reportElement uuid="1b63d094-ffd7-415c-9b81-083eb6bc8815" x="0" y="1" width="60" height="12"/>
				<textElement verticalAlignment="Middle">
					<font size="6"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{variation}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="76f56b55-de3e-4c34-9303-6fccd7707c0b" x="71" y="1" width="190" height="12"/>
				<textElement verticalAlignment="Middle">
					<font size="6"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{order_title}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="a66ceecb-30eb-4fe8-8529-50a2f905910d" x="290" y="1" width="90" height="12"/>
				<textElement verticalAlignment="Middle">
					<font size="6"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{po_status}!=null?$P{STATUS_PROCUREMENT}.get($F{po_status}):""]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="0b5ec8cc-a986-41c2-bb4c-d3898630a0ed" x="384" y="1" width="70" height="12"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="6"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{code}]]></textFieldExpression>
			</textField>
			<subreport>
				<reportElement uuid="6d9c54ed-8ac8-4be3-928d-31b9ed600b49" x="458" y="1" width="80" height="12"/>
				<subreportParameter name="SUBREPORT_DIR">
					<subreportParameterExpression><![CDATA[$P{SUBREPORT_DIR}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="poNoFilter">
					<subreportParameterExpression><![CDATA[$P{poNoFilter}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="patternDecimal">
					<subreportParameterExpression><![CDATA[$P{patternDecimal}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR} + "summaryPOTotalCostSubreport.jasper"]]></subreportExpression>
			</subreport>
		</band>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band splitType="Stretch"/>
	</summary>
</jasperReport>
