<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:o="http://omnifaces.org/ui"
                xmlns:p="http://primefaces.org/ui"
                xmlns:jsf="http://xmlns.jcp.org/jsf/passthrough"
                template="/WEB-INF/layout/template.xhtml">

    <ui:define name="title">Inicio</ui:define>
    <f:metadata>
        <f:viewAction action="#{identity.isLoggedIn()}"/>
        <f:viewParam name="poId" value="#{purchaseOrderEdit.purchaseOrderId}"/>
        <f:viewParam name="anchor" value="#{purchaseOrderEdit.anchor}"/>
        <f:viewParam name="fase" value="#{purchaseOrderEdit.fase}"/>
        <f:viewParam name="project" value="#{purchaseOrderEdit.projectName}"/>
        <f:viewAction action="#{permissionBean.canAccess(102)}"/>
        <f:viewAction action="#{purchaseOrderEdit.load}"/>

    </f:metadata>
    <ui:define name="body">
        <div class="row">
            <o:highlight/>

            <h:outputScript name="js/submitSearch.js"/>

            <div class="col-lg-12">
                <h:form id="empForm" class="form-horizontal" role="form" prependId="false" enctype="multipart/form-data"
                        acceptcharset="UTF-8">
                    <script>
                        window.onload = function () {
                            renderBodyButtons();
                        };
                        $(document).ready(function () {
                            if (document.referrer != "") {
                                var referringURL = document.referrer;
                                if (referringURL.indexOf("purchase/modal/CreateModalScopeSupply.jsf") != -1) {
                                    console.log("is create scope supply");
                                    hasChanges = true;
                                } else if (referringURL.indexOf("purchase/modal/CreateModalScopeSupplyEditing.jsf") != -1) {
                                    console.log("is create scope supply editing");
                                    hasChanges = true;
                                } else if (referringURL.indexOf("purchase/modal/EditModalScopeSupply.jsf") != -1) {
                                    console.log("is edit scope supply")
                                    hasChanges = true;
                                } else if (referringURL.indexOf("purchase/modal/EditModalScopeSupplyEditing.jsf") != -1) {
                                    console.log("is edit scope supply editing")
                                    hasChanges = true;
                                } else if (referringURL.indexOf("purchase/modal/EditModalSplitScopeSupply.jsf") != -1) {
                                    console.log("is edit split scope supply")
                                    hasChanges = true;
                                }
                            }
                        });
                    </script>
                    <p:remoteCommand name="renderBodyButtons" async="true" global="true" ignoreAutoUpdate="true"
                                     update="bntContactShow bntBulkUpdateShow bntCommnentShow"
                                     process="@this" action="#{purchaseOrderEdit.renderButtons()}"/>
                    <!-- Form Name -->

                    <div style="position: fixed; width: 96%; background-color: #eeeeee; z-index: 1000; height: 60px; display: table; margin-top: -13px; margin-left: -15px; padding-left: 15px;">
                        <div style="width: 100%; vertical-align: middle; display: table-cell">
                            <div style="height: 15px!important;"></div>
                            <div class="row" style="margin-bottom: -13px!important;">
                                <div class="section-lbl-input-po" style="width: 500px!important;">
                                    <div class="form-group input-general-po">
                                        <h:outputLabel class="label-general-po text-lbl-ltr control-label"
                                                       value="#{msgs['po.lbl.po.type.required']}"/>

                                        <div class="inputText-general-po" style="width: 250px!important;">
                                            <h:outputText maxlength="50"
                                                          value="#{purchaseOrderEdit.poEdit.po}"
                                                          class="form-control view-po"/>
                                        </div>
                                    </div>
                                </div>
                                <div class="section-lbl-input-po">
                                    <div class="form-group input-general-po">
                                        <h:outputLabel class="label-general-po text-lbl-ltr control-label"
                                                       value="#{msgs['po.lbl.variation']}"
                                                       style="width: 112px!important; padding-right: 0px!important; padding-left: 0px!important;"/>

                                        <div class="inputText-general-po"
                                             style="padding-left: 0px!important; width: 255px!important;">
                                            <h:outputText maxlength="50"
                                                          value="#{purchaseOrderEdit.poEdit.variation}"
                                                          class="form-control view-po"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div style="display: block; height: 1px; border: 0; border-top: 1px solid #ccc; margin: 1em 0; padding: 0;"></div>
                        </div>
                    </div>

                    <div class="clearfix"></div>
                    <br/>

                    <div class="title-page" style="margin-top: 42px!important;">
                        <h4 class="sub-header" style="margin-bottom: 5px!important;">#{msgs['po.view.title']}</h4>
                    </div>
                    <h4 class="sub-header">#{msgs['lbl.ph.title.general']}</h4>
                    <br/>
                    <div class="row">
                        <div class="section-lbl-input-po">
                            &#160;
                        </div>
                        <div class="section-text-area-po" style="height: 12px!important;">
                            #{msgs['lbl.project.name.comment']}
                        </div>
                    </div>
                    <div class="row">
                        <div class="section-lbl-input-po">
                            <!-- Text input-->
                            <div class="form-group input-general-po">
                                <h:outputLabel class="label-general-po text-lbl-ltr control-label" for="project"
                                               value="#{msgs['po.lbl.project.type.required']}"/>

                                <div class="inputText-general-po">
                                    <h:inputText id="project" maxlength="50"
                                                 disabled="true"
                                                 value="#{purchaseOrderEdit.poEdit.projectEntity.projectNumber}"
                                                 class="form-control" required="true"
                                                 requiredMessage="#{msgs['po.lbl.project.required']}"/>
                                    <p:message for="project" id="msgProject"/>
                                </div>
                            </div>
                        </div>
                        <div class="section-text-area-po">
                            <p:inputTextarea value="#{purchaseOrderEdit.poEdit.commentForProject()}"
                                             maxlength="950"
                                             readonly="true" style="max-height: 60px!important;"
                                             class="form-control"/>
                        </div>
                    </div>
                    <div class="row">
                        <div class="section-lbl-input-po">
                            &#160;
                        </div>
                        <div class="section-text-area-po" style="height: 12px!important;">
                            #{msgs['po.lbl.date']}
                        </div>
                    </div>
                    <div class="row">
                        <div class="section-lbl-input-po">
                            <div class="form-group input-general-po">
                                <h:outputLabel class="label-general-po text-lbl-ltr control-label"
                                               value="#{msgs['po.lbl.po.title']}"/>

                                <div class="inputText-general-po">
                                    <h:inputText maxlength="50" value="#{purchaseOrderEdit.poEdit.poTitle}"
                                                 class="form-control" readonly="true"/>
                                </div>
                            </div>
                        </div>
                        <div class="section-text-area-po">
                            <h:outputText
                                    value="#{util.toLocal(purchaseOrderEdit.poEdit.purchaseOrderProcurementEntity.orderDate)}"
                                    class="form-control view-po"/>
                        </div>
                    </div>
                    <div class="row">
                        <div class="section-lbl-input-po">
                            &#160;
                        </div>
                        <div class="section-text-area-po" style="height: 12px!important;">
                            <div class="col-md-6" style="padding-left: 0px;">
                                #{msgs['po.lbl.status']}
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="section-lbl-input-po">
                            <div class="form-group input-general-po">
                                <h:outputLabel class="label-general-po text-lbl-ltr control-label"
                                               value="#{msgs['po.lbl.supplier']}"/>

                                <div class="inputText-general-po">
                                    <h:inputText readonly="true" styleClass="form-control view-po"
                                                 value="#{purchaseOrderEdit.poEdit.purchaseOrderProcurementEntity.supplier.company}"/>
                                </div>
                            </div>
                        </div>
                        <div class="section-text-area-po">
                            <div class="col-md-6" style="padding-left: 0px;">
                                <h:inputText disabled="true"
                                             value="#{configuration.getPOProcStatus(purchaseOrderEdit.poEdit.purchaseOrderProcurementEntity.poProcStatus)}"
                                             class="form-control po-view"/>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="section-lbl-input-po">
                            &#160;
                        </div>
                        <div class="section-text-area-po" style="height: 12px!important;">
                            #{msgs['lbl.contact.detail']}
                        </div>
                    </div>
                    <div class="row">
                        <div class="section-lbl-input-po">
                            <div class="form-group input-general-po">
                                <h:outputLabel class="label-general-po text-lbl-ltr control-label"
                                               value="#{msgs['po.lbl.address']}"/>

                                <div class="inputText-general-po">
                                    <p:inputTextarea id="supplierAddress" maxlength="450"
                                                     style="height: 90px;"
                                                     readonly="true"
                                                     value="#{purchaseOrderEdit.poEdit.purchaseOrderProcurementEntity.supplier.street}"
                                                     class="form-control"/>
                                </div>
                            </div>
                        </div>
                        <div class="section-text-area-po">
                            <p:inputTextarea maxlength="950" type="text"
                                             value="#{purchaseOrderEdit.poEdit.purchaseOrderProcurementEntity.supplier.contactDetail}"
                                             id="supplierPhoneTxt"
                                             style="height: 90px;"
                                             readonly="true"
                                             class="form-control"/>
                        </div>
                    </div>
                    <div class="row">
                        <div class="section-lbl-input-po">
                            <div class="form-group input-general-po">
                                <h:outputLabel class="label-general-po text-lbl-ltr control-label"
                                               value="#{msgs['lbl.supplier.suburb']}"/>

                                <div class="inputText-general-po">
                                    <p:inputText id="supplierSuburb" maxlength="450"
                                                 readonly="true"
                                                 value="#{purchaseOrderEdit.poEdit.purchaseOrderProcurementEntity.supplier.suburb}"
                                                 class="form-control"/>
                                </div>
                            </div>
                        </div>
                        <div class="section-text-area-po">
                        </div>
                    </div>
                    <div class="row">
                        <div class="section-lbl-input-po">
                            <div class="form-group input-general-po">
                                <h:outputLabel class="label-general-po text-lbl-ltr control-label"
                                               value="#{msgs['lbl.supplier.state']}"/>

                                <div class="inputText-general-po">
                                    <p:inputText id="supplierState" maxlength="450"
                                                 readonly="true"
                                                 value="#{purchaseOrderEdit.poEdit.purchaseOrderProcurementEntity.supplier.state}"
                                                 class="form-control"/>
                                </div>
                            </div>
                        </div>
                        <div class="section-text-area-po">
                        </div>
                    </div>
                    <div class="row">
                        <div class="section-lbl-input-po">
                            <div class="form-group input-general-po">
                                <h:outputLabel class="label-general-po text-lbl-ltr control-label"
                                               value="#{msgs['lbl.supplier.postcode']}"/>

                                <div class="inputText-general-po">
                                    <p:inputText id="supplierPostCode" maxlength="450"
                                                 readonly="true"
                                                 value="#{purchaseOrderEdit.poEdit.purchaseOrderProcurementEntity.supplier.postCode}"
                                                 class="form-control"/>
                                </div>
                            </div>
                        </div>
                        <div class="section-text-area-po">
                        </div>
                    </div>
                    <div class="row">
                        <div class="section-lbl-input-po">
                            <div class="form-group input-general-po">
                                <h:outputLabel class="label-general-po text-lbl-ltr control-label"
                                               value="#{msgs['lbl.supplier.country']}"/>

                                <div class="inputText-general-po">
                                    <p:inputText id="supplierCountry" maxlength="450"
                                                 readonly="true"
                                                 value="#{purchaseOrderEdit.poEdit.purchaseOrderProcurementEntity.supplier.country}"
                                                 class="form-control"/>
                                </div>
                            </div>
                        </div>
                        <div class="section-text-area-po">
                        </div>
                    </div>
                    <div class="row">
                        <div class="section-lbl-input-po">
                            <div class="form-group input-general-po">
                                <h:outputLabel class="label-general-po text-lbl-ltr control-label"
                                               value="#{msgs['po.lbl.contact.name']}"/>

                                <div class="inputText-general-po">

                                    <p:selectOneMenu styleClass="menu-po-status"
                                                     filter="true"
                                                     id="contactId"
                                                     style="min-width:345px;max-width: 345px;"
                                                     filterMatchMode="startsWith"
                                                     value="#{purchaseOrderEdit.poEdit.purchaseOrderProcurementEntity.contactExpediting}"
                                                     converter="contactConverter" onchange="doChange();">
                                        <f:selectItem itemLabel="Select One" itemValue=""/>
                                        <f:selectItems var="_contact"
                                                       value="#{purchaseOrderEdit.poEdit.purchaseOrderProcurementEntity.supplier.contacts}"
                                                       itemLabel="#{_contact.fullName}" itemValue="#{_contact}"/>
                                        <p:ajax async="false" update="btnViewContact" event="change"/>
                                    </p:selectOneMenu>
                                </div>
                            </div>
                        </div>
                        <div class="section-text-area-po">
                            <ui:remove>
                                <div class="col-sm-5" style="padding-left: 0px;">
                                    <p:inputTextarea style="max-height: 29px;"
                                                     id="contactEmailExp"
                                                     readonly="true"
                                                     maxlength="950"
                                                     value="#{purchaseOrderEdit.poEdit.purchaseOrderProcurementEntity.contactEntity.email}"
                                                     class="form-control"/>
                                </div>
                            </ui:remove>

                            <div class="col-sm-7 pull-left">
                                <h:panelGroup id="bntContactShow">
                                    <h:panelGroup rendered="#{purchaseOrderEdit.showButtons}">
                                        <h:commandButton
                                                id="btnAddContact"
                                                value="#{msgs['po.supplier.lbl.btn.add.contact2']}"
                                                disabled="#{purchaseOrderEdit.poEdit.purchaseOrderProcurementEntity.supplier==null}"
                                                action="#{contactBean.start(purchaseOrderEdit.poEdit.purchaseOrderProcurementEntity.supplier.id)}"
                                                onclick="PF('contactModal').show();"
                                                styleClass="btn btn-primary btn-sm">
                                            <p:ajax async="false" update=":editContact"/>
                                        </h:commandButton>
                                        &#160;
                                        <h:commandButton
                                                id="btnViewContact"
                                                value="#{msgs['po.supplier.lbl.btn.view.contact']}"
                                                disabled="#{purchaseOrderEdit.poEdit.purchaseOrderProcurementEntity.contactEntity==null}"
                                                onclick="PF('contactViewModal').show();"
                                                styleClass="btn btn-primary btn-sm">
                                            <p:ajax async="false" update=":contactViewId"/>
                                        </h:commandButton>
                                    </h:panelGroup>
                                </h:panelGroup>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="section-lbl-input-po">
                            &#160;
                        </div>
                        <div class="section-text-area-po" style="height: 12px!important;">
                            #{msgs['lbl.delivery.date.comment']}
                        </div>
                    </div>
                    <div class="row">
                        <div class="section-lbl-input-po">
                            <div class="form-group input-general-po">
                                <h:outputLabel class="label-general-po text-lbl-ltr control-label"
                                               value="#{msgs['po.lbl.po.delivery.date']}"/>

                                <div class="calendar-general-po">
                                    <p:calendar value="#{purchaseOrderEdit.poEdit.poExpeditingDeliveryDate}"
                                                navigator="true" jsf:placeholder="#{configuration.formatDate}"
                                                pattern="#{configuration.formatDate}"
                                                converter="#{dateConverter}"
                                                timeZone="#{configuration.timeZone2}"
                                                onselect="calendarChanges();" onclick="calendarChanges();">
                                    </p:calendar>
                                </div>
                            </div>
                        </div>
                        <div class="section-text-area-po">
                            <p:inputTextarea
                                    maxlength="950"
                                    style="max-height: 60px!important;"
                                    value="#{purchaseOrderEdit.poEdit.deliveryDateComment}"
                                    class="form-control" rows="3"/>
                        </div>
                    </div>
                    <div class="row">
                        <div class="section-lbl-input-po">
                            &#160;
                        </div>
                        <div class="section-text-area-po" style="height: 12px!important;">
                            #{msgs['lbl.full.inco.term']}
                        </div>
                    </div>

                    <!-- Text input-->
                    <div class="row">
                        <div class="section-lbl-input-po">
                            <div class="form-group input-general-po">
                                <h:outputLabel class="label-general-po text-lbl-ltr control-label"
                                               value="#{msgs['po.lbl.po.inco.term']}"/>

                                <div class="calendar-general-po">
                                    <p:selectOneMenu id="incoTermSelectOne" value="#{purchaseOrderEdit.poEdit.incoTerm}"
                                                     effect="fold" editable="true" styleClass="menu-ddp"
                                                     maxlength="50" style="width: 100%" onchange="doChange();">
                                        <f:selectItems value="#{incoTerms}"/>
                                    </p:selectOneMenu>
                                </div>
                            </div>
                        </div>
                        <div class="section-text-area-po">
                            <p:inputTextarea
                                    maxlength="950" value="#{purchaseOrderEdit.poEdit.fullIncoTerms}"
                                    style="max-height: 60px!important;"
                                    class="form-control" rows="3"/>
                        </div>
                    </div>
                    <h:panelGroup id="panelAId">
                    <div style="border: 1px solid #cccccc; margin-left: -15px; padding-left: 6px; margin-top: 10px; padding-bottom: 5px;
                                padding-top: 5px; width: 1023px; height: 225px; z-index: -10; margin-bottom: -216px; border-radius: 4px;"></div>
                    <div style="margin-left: -9px; padding-left: 9px; margin-bottom: 5px;
                                margin-top: 0px; padding-bottom: 5px; padding-top: 5px; height: 225px;">
                        <div class="row">
                            <div class="section-lbl-input-po">
                                &#160;
                            </div>
                            <div class="section-text-area-po" style="height: 12px!important;">
                                #{msgs['lbl.rfe.comment']}
                            </div>
                        </div>
                        <div class="row">
                            <div class="section-lbl-input-po">
                                <div class="form-group input-general-po">
                                    <h:outputLabel class="label-general-po text-lbl-ltr control-label"
                                                   value="#{msgs['po.lbl.responsible']}"/>

                                    <div class="inputText-general-po">
                                        <h:inputText maxlength="100"
                                                     value="#{purchaseOrderEdit.poEdit.responsibleExpediting}"
                                                     class="form-control"/>
                                    </div>
                                </div>
                            </div>
                            <div class="section-text-area-po">
                                <p:inputTextarea
                                        id="rfeComment"
                                        style="max-height: 60px!important;"
                                        maxlength="950" type="text"
                                        value="#{purchaseOrderEdit.poEdit.rfeComment}"
                                        rows="3"/>
                                <p:message for="rfeComment"/>
                            </div>
                        </div>
                        <div class="row">
                            <!-- Text input-->
                            <div class="section-lbl-input-po">
                                <div class="form-group input-general-po">
                                    <h:outputLabel class="label-general-po text-lbl-ltr control-label"
                                                   value="#{msgs['po.lbl.expediting.title']}"/>

                                    <div class="inputText-general-po">
                                        <h:inputText id="expeditingTitleId" maxlength="50"
                                                     value="#{purchaseOrderEdit.poEdit.expeditingTitle}"
                                                     class="form-control"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="section-lbl-input-po">
                                &#160;
                            </div>
                            <div class="section-text-area-po" style="height: 12px!important;">
                                #{msgs['lbl.intro.email.sent.comment']}
                            </div>
                        </div>
                        <div class="row">
                            <div class="section-lbl-input-po">
                                <div class="form-group input-general-po">
                                    <h:outputLabel class="label-general-po text-lbl-ltr control-label"
                                                   value="#{msgs['po.lbl.intro.email.sent']}"/>

                                    <div class="calendar-general-po">
                                        <p:calendar id="introEmailDate" type="text"
                                                    styleClass="calendar-date-po"
                                                    mask="#{configuration.mask}" navigator="true"
                                                    pattern="#{configuration.formatDate}"
                                                    converterMessage="#{msgs['validator.date.invalid']}"
                                                    converter="#{dateConverter}"
                                                    timeZone="#{configuration.timeZone}"
                                                    value="#{purchaseOrderEdit.poEdit.introEmail}"
                                                    onselect="calendarChanges();" onclick="calendarChanges();"/>
                                    </div>
                                </div>
                            </div>
                            <div class="section-text-area-po">
                                <p:inputTextarea
                                        maxlength="950" type="text"
                                        style="max-height: 60px!important;"
                                        value="#{purchaseOrderEdit.poEdit.introEmailSentComment}"
                                        class="form-control" rows="3"/>
                            </div>
                        </div>
                    </div>
                    </h:panelGroup>
                    <ui:include src="components/additionalDataEdit.xhtml"/>

                    <div class="clearfix"></div>
                    <br/>

                    <div style="width: 940px;">
                        <div class="pull-left">
                            <h:panelGroup id="bntBulkUpdateShow">
                                <ui:remove><p:commandLink id="initialUpdateBtn" value="#{msgs['po.lbl.button.initial.update']}"
                                               styleClass="btn btn-primary btn-commandLink-primeFaces"
                                               action="#{purchaseOrderEdit.resetBulkInitialUpdateModal}"
                                               rendered="#{permissionBean.hasPermission(1410)}"
                                               oncomplete="PF('bulkInitialUpdateSp').show();"
                                               update=":bulkInitialUpdateFormId" onclick="doChange();"/>
                                </ui:remove>
                                &#160;
                                <h:panelGroup rendered="#{purchaseOrderEdit.showButtons}">
                                    <p:commandLink id="bulk" value="#{msgs['po.lbl.button.bulk.scope.supply.update']}"
                                                   styleClass="btn btn-primary btn-commandLink-primeFaces"
                                                   action="#{purchaseOrderEdit.resetBulkUpdateModal}"
                                                   rendered="#{permissionBean.hasPermission(1410)}"
                                                   oncomplete="PF('bulkUpdateSp').show();"
                                                   update=":bulkUpdateScopeSupplyFormId" async="false"/>
                                </h:panelGroup>
                            </h:panelGroup>
                        </div>

                        <div class="pull-right">
                            <h:commandButton id="save0" value="#{msgs['lbl.update']}"
                                             styleClass="btn btn-primary btn-sm"
                                             action="#{purchaseOrderEdit.doUpdate}"
                                             type='submit'
                                             onclick="setTimeout('document.getElementById(\'' + this.id + '\').disabled=true;', 50);"/>
                            &#160;
                            <h:link id="cancelPOCreateBtn" value="#{msgs['lbl.cancel']}"
                                    styleClass="btn btn-primary btn-sm"
                                    outcome="list" onclick="this.preventDefault;
                                                            if(hasChanges){
                                                            PF('confCancelDlg').show();
                                                            return false;
                                                            }else window.location='../purchase/list.jsf'">
                                <f:param name="anchor" value="#{purchaseOrderEdit.anchor}"></f:param>
                                <f:param name="project" value="#{purchaseOrderEdit.projectName eq null ?'all':purchaseOrderEdit.projectName}"></f:param>
                            </h:link>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <br/>

                    <div class="row">
                        <ui:include src="components/scopeSupplyEdit.xhtml"/>
                    </div>
                    <div class="clearfix"></div>
                    <br/>

                    <div class="row">
                        <ui:include src="components/commentsEdit.xhtml"/>
                    </div>
                    <div class="clearfix"></div>
                    <br/>

                    <div class="action-button-po">
                        <div class="pull-right">
                            <h:commandButton id="save" value="#{msgs['lbl.update']}" styleClass="btn btn-primary btn-sm"
                                             action="#{purchaseOrderEdit.doUpdate}"
                                             type='submit'
                                             onclick="setTimeout('document.getElementById(\'' + this.id + '\').disabled=true;', 50);"/>
                            &#160;

                            <h:link id="cancelCreateBtn" value="#{msgs['lbl.cancel']}"
                                    styleClass="btn btn-primary btn-sm" onclick="this.preventDefault;
                                                                     if(hasChanges){
                                                                     PF('confCancelDlg').show();
                                                                     return false;
                                                                     }else window.location='../purchase/list.jsf'"
                                    outcome="list">
                                <f:param name="anchor" value="#{purchaseOrderEdit.anchor}"></f:param>
                                <f:param name="project" value="#{purchaseOrderEdit.projectName eq null ?'all':purchaseOrderEdit.projectName}"></f:param>
                            </h:link>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <br/>
                    <ui:include src="../WEB-INF/layout/confirmDialogs/confirm-dialogs-expediting-edit.xhtml"/>
                    <p:remoteCommand name="redirectToPOList" process="@this" action="#{purchaseOrderEdit.exitOnlyNoSave}"/>
                </h:form>
            </div>
            <!-- /.col-lg-12 -->
        </div>

        <p:dialog id="bulkInitalUpdateSpId" header="#{msgs['modal.bulk.initial.update']}" widgetVar="bulkInitialUpdateSp"
                  resizable="false" width="630">
            <ui:include src="modal/BulkInitialUpdate.xhtml"/>
        </p:dialog>
        <p:dialog id="bulkUpdateSpId" header="#{msgs['modal.bulk.scope.supply.update']}" widgetVar="bulkUpdateSp"
                  resizable="false" width="630">
            <ui:include src="modal/BulkScopeSupplyEdit.xhtml"/>
        </p:dialog>
        <p:dialog id="commentModalId" header="#{msgs['modal.comment.title']}" widgetVar="commentEditModal"
                  resizable="false" height="470" width="500">
            <ui:include src="modal/EditModalComment.xhtml"/>
        </p:dialog>
        <p:dialog id="commentEditModalId" header="#{msgs['modal.comment.edit.title']}" widgetVar="commentUpdateModal"
                  resizable="false" height="470" width="500">
            <ui:include src="modal/EditCommentModalUpdate.xhtml"/>
        </p:dialog>
        <p:dialog id="attachmentScopeSupplyId" header="#{msgs['attachment.title.scope.supply']}"
                  widgetVar="attachmentScopeSupplyModal" resizable="false" height="380" width="400">
            <ui:include src="modal/attachment/attachmentScopeSupplyEdit.xhtml"/>
        </p:dialog>
        <p:dialog header="New Contact" resizable="false" widgetVar="contactModal" width="500">
            <ui:include src="../procurement/admin/supplier/components/contactEdit.xhtml">
                <ui:param name="MODULE" value="EXPEDITING"/>
                <ui:param name="RENDER" value=":empForm:contactId"/>
                <ui:param name="OP" value="EDIT"/>
            </ui:include>
        </p:dialog>
        <p:dialog header="View Contact" resizable="false" widgetVar="contactViewModal" width="500">
            <ui:include src="../procurement/admin/supplier/components/contactView.xhtml">
                <ui:param name="ID" value="contactViewId"/>
                <ui:param name="MODAL" value="contactViewModal"/>
                <ui:param name="contact"
                          value="#{purchaseOrderEdit.poEdit.purchaseOrderProcurementEntity.contactExpediting}"/>
            </ui:include>
        </p:dialog>
        <p:confirmDialog closable="true" global="true" showEffect="fade" hideEffect="explode" severity="alert">
            <div class="pull-right">
                <p:commandButton value="#{msgs['lbl.yes']}" styleClass="ui-confirmdialog-yes" icon="ui-icon-check"/>
                <p:commandButton value="#{msgs['lbl.no']}" styleClass="ui-confirmdialog-no" icon="ui-icon-close"/>
            </div>
        </p:confirmDialog>
        <p:dialog header="New Supplier" widgetVar="supplierModal" width="1065" height="600" resizable="false">
            <h:form id="supplierId" prependId="false">
                <ui:include src="../procurement/admin/supplier/components/templateSupplier.xhtml">
                    <ui:param name="MODE" value="CUSTOM"/>
                    <ui:param name="FORM" value="supplierId"/>
                    <ui:param name="bean" value="#{purchaseOrderEdit}"/>
                    <ui:param name="RENDER" value=":empForm:supplierAddress :empForm:supplierPhoneTxt
                                                    supplierId
                                                   :empForm:supplierSuburb :empForm:supplierState :empForm:supplierPostCode
                                                   :empForm:supplierCountry :empForm:contactId :empForm:supplierNameId"/>
                </ui:include>ยบ
            </h:form>
        </p:dialog>
        <p:dialog header="New Category" widgetVar="categoryModal" width="400" height="120" resizable="false">
            <h:form id="categoryModalFormId" prependId="false" class="form-horizontal">
                <ui:include src="../procurement/admin/supplier/components/addCategory.xhtml">
                </ui:include>
            </h:form>
        </p:dialog>
        <p:dialog header="New Brand" widgetVar="brandModal" width="400" height="120" resizable="false">
            <h:form id="brandModalFormId" prependId="false">
                <ui:include src="../procurement/admin/supplier/components/addBrand.xhtml"/>
            </h:form>
        </p:dialog>

        <h:outputScript name="js/multipleSelectionInitialUpdate.js"/>
        <h:outputScript name="js/multipleSelectionPoEdit.js"/>
    </ui:define>
</ui:composition>
