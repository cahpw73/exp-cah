<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:jsf="http://xmlns.jcp.org/jsf/passthrough">
    <h:form id="scopeSupplyFormId" role="form" prependId="false" enctype="multipart/form-data" acceptcharset="UTF-8"
            styleClass="form-horizontal">
        <div class="row">
            <div class="form-group">
                <h:outputLabel class="col-sm-2 control-label" value="#{msgs['po.supply.scope.column.code']}"/>

                <div class="col-sm-6">
                    <h:inputText type="text" jsf:placeholder="#{msgs['po.supply.scope.column.code']}"
                                 maxlength="50"
                                 value="#{purchaseOrderCreate.newScopeSupply.code}"
                                 class="form-control"/>
                </div>
            </div>
            <div class="form-group">
                <h:outputLabel class="col-sm-2 control-label" value="#{msgs['po.supply.scope.column.quantity']}"/>

                <div class="col-sm-6">
                    <h:inputText id="scopeSupplyQuantity" type="text"
                                 jsf:placeholder="#{msgs['po.supply.scope.column.quantity']}"
                                 value="#{purchaseOrderCreate.newScopeSupply.quantity}"
                                 class="form-control"/>
                    <h:message for="scopeSupplyQuantity" id="msgScopeSupplyQuantity"/>
                </div>
            </div>
            <div class="form-group">
                <h:outputLabel class="col-sm-2 control-label" value="#{msgs['po.supply.scope.column.unit']}"/>

                <div class="col-sm-6">
                    <h:inputText type="text" jsf:placeholder="#{msgs['po.supply.scope.column.unit']}"
                                 value="#{purchaseOrderCreate.newScopeSupply.unit}"
                                 maxlength="50"
                                 class="form-control"/>
                </div>
            </div>
            <div class="form-group">
                <h:outputLabel class="col-sm-2 control-label" value="#{msgs['po.supply.scope.column.cost']}"/>

                <div class="col-sm-6">
                    <h:inputText id="scopeSupplyCost" type="text"
                                 jsf:placeholder="#{msgs['po.supply.scope.column.cost']}"
                                 value="#{purchaseOrderCreate.newScopeSupply.cost}"
                                 class="form-control"/>
                    <h:message for="scopeSupplyCost" id="msgScopeSpplyCost"/>
                </div>
            </div>
            <div class="form-group">
                <h:outputLabel class="col-sm-2 control-label"
                               value="#{msgs['po.supply.scope.column.description']}"/>

                <div class="col-sm-8">
                    <p:inputTextarea maxlength="500" style="height: 75px" autoResize="false"
                                     value="#{purchaseOrderCreate.newScopeSupply.description}"/>
                </div>
            </div>
        </div>
        <div class="clearfix"/>
        <h3 class="sub-header">Source</h3>

        <div class="row">
            <div class="col-lg-4">
                <div class="form-row">
                    <h:outputLabel style="width: 100%;padding-top: 5px; padding-bottom: 5px;" value="#{msgs['supply.scope.lbl.work.date']}"/>
                    <p:calendar id="exWorkDate"  styleClass="p-calendar"
                                mask="true"
                                navigator="true"
                                pattern="#{configuration.formatDate}"
                                converterMessage="#{msgs['validator.date.invalid']}"
                                jsf:placeholder="#{msgs['lbl.format.date']}"
                                value="#{purchaseOrderCreate.newScopeSupply.exWorkDate}">
                        <p:ajax process="@this" event="dateSelect"
                                update=":scopeSupplyFormId:siteDateCalculatedCreate"></p:ajax>
                    </p:calendar>
                    <h:inputText maxlength="50" type="text" style="width: 100%;padding-top: 5px;"
                                 value="#{purchaseOrderCreate.newScopeSupply.exWorkDateDescription}"
                                 jsf:placeholder="#{msgs['supply.scope.ph.work.date.observations']}"
                                 class="form-control"/>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-6">
                <div class="form-group">
                    <h:outputLabel class="col-sm-6 control-label"
                                   value="#{msgs['supply.scope.lbl.delivery.time']}"/>

                    <div class="col-sm-3">
                        <h:inputText type="text"
                                     value="#{purchaseOrderCreate.newScopeSupply.deliveryLeadTimeQt}"
                                     jsf:placeholder="#{msgs['supply.scope.ph.delivery.number']}"
                                     class="form-control">
                            <f:ajax execute="@this" render="siteDateCalculatedCreate"></f:ajax>
                        </h:inputText>
                    </div>
                    <div class="col-sm-3">
                        <h:selectOneMenu id="measurementUnit"
                                         value="#{purchaseOrderCreate.newScopeSupply.deliveryLeadTimeMs}"
                                         styleClass="ui-selectonemenu-label ui-inputfield ui-corner-all">
                            <f:selectItems value="#{allTimeMeasurement}"/>
                            <f:ajax execute="@this" render="siteDateCalculatedCreate"></f:ajax>
                        </h:selectOneMenu>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <h:inputText maxlength="50" type="text"
                             value="#{purchaseOrderCreate.newScopeSupply.getDeliveryLeadTimeDescription}"
                             jsf:placeholder="#{msgs['supply.scope.ph.delivery.time.observations']}"
                             class="form-control"/>
            </div>

        </div>
        <h3 class="sub-header">Destiny</h3>

        <div class="row">
            <div class="col-lg-6">
                <div class="form-row">
                    <h:outputLabel style="width: 100%;padding-top: 5px;" value="#{msgs['supply.scope.lbl.site.date']}"/>
                        <h:outputLabel style="width: 100%;padding-top: 5px;" id="siteDateCalculatedCreate" value="#{purchaseOrderCreate.calculateDate()}">
                            <f:convertDateTime pattern="#{configuration.formatDate}"/>
                        </h:outputLabel>

                    <h:inputText style="width: 100%;padding-top: 5px;" maxlength="50" type="text"
                                 value="#{purchaseOrderCreate.newScopeSupply.siteDateDescription}"
                                 jsf:placeholder="#{msgs['supply.scope.ph.site.date.observations']}"
                                 class="form-control"/>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="form-group">
                    <div class="pull-right">
                        <h:commandButton id="saveScopeSupply" value="#{msgs['lbl.save']}" class='btn btn-primary'>
                            <p:ajax onsuccess="PF('scopeSupplyModal').hide();" update=":empForm:scopeSupplyList"
                                    process="scopeSupplyFormId"
                                    listener="#{purchaseOrderCreate.addScopeSupply}"/>
                        </h:commandButton>
                        &#160;
                        <h:commandButton id="addScopeSupply" value="#{msgs['lbl.save.add']}" class='btn btn-primary'>
                            <p:ajax update=":empForm:scopeSupplyList :scopeSupplyFormId"
                                    listener="#{purchaseOrderCreate.addScopeSupplyAndAdd}"
                                    process="scopeSupplyFormId"/>
                        </h:commandButton>
                        &#160;
                        <button type="button" class="btn btn-primary" onclick="PF('scopeSupplyModal').hide();">
                            #{msgs['lbl.cancel']}
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </h:form>
</ui:composition>
